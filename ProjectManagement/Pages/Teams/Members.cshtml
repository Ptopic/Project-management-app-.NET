@page
@model ProjectManagement.Pages.Teams.Members

@{
    var keyword = ViewData["Keyword"] as string;
    // var previous = Model.Teams.HasPreviousPage ? "" : "disabled";
    // var next = Model.Teams.HasNextPage ? "" : "disabled";
}

<p class="display-5">Members of <b>@Model.Team.Name</b> team</p>

@if (Model.Team.Members.Count > 0)
{
    <form asp-action="OnGetAsync" method="get">
        <div class="row">
            <div class="input-group">
                <input type="search" class="form-control" placeholder="Search..." name="searchString" value="@keyword">
                <button type="submit" class="btn btn-primary mr-2"><i class="bi bi-search"></i></button>
                <a asp-action="" class="btn btn-secondary clear-btn">Clear</a>
            </div>
        </div>
    </form>
    
    <a asp-page="/Teams/Create" class="btn btn-success mt-2">
        <i class="bi bi-plus"></i>
        Add new member
    </a>
    
    <div class="container mt-2">
        @foreach (var member in Model.Team.Members)
        {
            <div class="row mb-4 align-middle">
                <p class="mb-0 w-auto align-content-center">@member.FirstName @member.LastName - @member.Email</p>

                <button class="btn btn-danger w-auto">
                    <i class="bi bi-trash3"></i>
                    Remove from team
                </button>
            </div>
        }
    </div>
    
    <a asp-page="/Teams/Index" class="btn btn-primary">
        Back to List
    </a>
}
else
{
    <a asp-page="/Teams/Create" class="btn btn-success mt-2">
        <i class="bi bi-plus"></i>
        Add new member
    </a>
    
    <h2 class="mt-4">No members</h2>
    
    <a asp-page="/Teams/Index" class="btn btn-primary mt-4">
        Back to List
    </a>
}